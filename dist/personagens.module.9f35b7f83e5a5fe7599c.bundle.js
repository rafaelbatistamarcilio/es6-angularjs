(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{269:function(e,n,r){"use strict";r.d(n,"a",function(){return t});var t={API:{SW:"https://swapi.co/api"}}},273:function(e,n){e.exports='\r\n<h5>{{$ctrl.titulo}}</h5>\r\n\r\n<div>\r\n    <input type="text" id="pesquisa-personagem" ng-model="$ctrl.pesquisa" />\r\n    <button id="btn-pesquisar" ng-click="$ctrl.pesquisarPersonagem()"> Pesquisar </button>\r\n</div>\r\n\r\n<div ng-if="$ctrl.personagens.length > 0">\r\n    <app-personagem-detalhe\r\n        ng-repeat="personagem in $ctrl.personagens"\r\n        personagem="personagem"\r\n        on-personagem-escolhido="$ctrl.mostrarEscolha($event)">\r\n    </app-personagem-detalhe>\r\n</div>\r\n\r\n<div id="personagem-escolhido" ng-if="$ctrl.escolhido">\r\n    Escolhido: {{$ctrl.escolhido}}\r\n</div>'},274:function(e,n){e.exports='<div>\r\n    {{ $ctrl.personagem.name }} <button ng-click="$ctrl.escolher()"> Escolher</button>\r\n</div>'},281:function(e,n,r){"use strict";r.r(n);var t=r(19),s=r.n(t),a=r(28),o=r.n(a),i=r(50),c=r.n(i),u=r(51),p=r.n(u),h=r(52),l=r.n(h),g=r(273),d=function(){function e(n,r){p()(this,e),this.titulo="Pesquisa de Personagens",this.personagens=[],this.escolhido="",this.personagensService=n,this.$scope=r}return l()(e,[{key:"$onInit",value:function(){this.recuperarPersonagens()}},{key:"recuperarPersonagens",value:function(){var e=c()(o.a.mark(function e(){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.personagensService.recuperarPersonagens(1);case 2:n=e.sent,this.personagens=n,this.$scope.$digest();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"pesquisarPersonagem",value:function(){var e=c()(o.a.mark(function e(){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.personagens=[],e.next=3,this.personagensService.pesquisar(this.pesquisa);case 3:n=e.sent,this.personagens=n,this.$scope.$digest();case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"mostrarEscolha",value:function(e){this.escolhido=e.nome}}]),e}();d.$inject=["PersonagensService","$scope"];var v={template:g,controller:d},f={template:r(274),controller:function(){function e(){p()(this,e),this.titulo="Pesquisa de Personagens"}return l()(e,[{key:"$onInit",value:function(){}},{key:"escolher",value:function(){var e=new Date;this.onPersonagemEscolhido({$event:{nome:this.personagem.name,data:e}})}}]),e}(),bindings:{personagem:"<",onPersonagemEscolhido:"&"}},m=r(269),$=function(){function e(n){p()(this,e),this.$http=n}return l()(e,[{key:"recuperarPersonagens",value:function(){var e=c()(o.a.mark(function e(n){var r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$http({url:"".concat(m.a.API.SW,"/people/?page=").concat(n),method:"GET"});case 2:return r=e.sent,e.abrupt("return",r.data.results);case 4:case"end":return e.stop()}},e,this)}));return function(n){return e.apply(this,arguments)}}()},{key:"pesquisar",value:function(){var e=c()(o.a.mark(function e(n){var r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$http({url:"".concat(m.a.API.SW,"/people/?search=").concat(n),method:"GET"});case 2:return r=e.sent,e.abrupt("return",r.data.results);case 4:case"end":return e.stop()}},e,this)}));return function(n){return e.apply(this,arguments)}}()}]),e}();$.$inject=["$http"];var P=r(90);r.d(n,"PersonagensModule",function(){return k});var k=s.a.module("app.personagens",[P.a.name]).component("appPersonagensLista",v).component("appPersonagemDetalhe",f).service("PersonagensService",$)}}]);
//# sourceMappingURL=personagens.module.9f35b7f83e5a5fe7599c.bundle.js.map